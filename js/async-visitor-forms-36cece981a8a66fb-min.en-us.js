"use strict";(globalThis.webpackChunkextract_css=globalThis.webpackChunkextract_css||[]).push([["83769"],{164160:function(v,l,t){t.d(l,{h:()=>f});var c=t(392338),n=t.n(c),r=t(375377),o=t.n(r),E=t(642979),d=t.n(E),a=t(457728),O=t.n(a);function e(m,_){var i=Object.keys(m);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(m);_&&(u=u.filter(function(D){return Object.getOwnPropertyDescriptor(m,D).enumerable})),i.push.apply(i,u)}return i}function s(m){for(var _=1;_<arguments.length;_++){var i=arguments[_]!=null?arguments[_]:{};_%2?e(Object(i),!0).forEach(function(u){d()(m,u,i[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(u){Object.defineProperty(m,u,Object.getOwnPropertyDescriptor(i,u))})}return m}var P=function(_){var i,u={};return s(s(s({},_),{},{nameOrder:(i=_.formFieldFormats)===null||i===void 0?void 0:i.initialNameOrder},_.formFieldFormats),{},{initialValues:u})},f=function(){var m=o()(O().mark(function _(i,u){var D,h,p,M,C,T,g=arguments;return O().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return D=g.length>2&&g[2]!==void 0?g[2]:window,R.next=1,u(D,i.captchaEnabled);case 1:return h=R.sent,p=h.enterpriseRendered,M=h.showRecaptchaBadge,C=i.captchaEnabled&&!p,T=function(){i.captchaEnabled&&p&&M&&M({isLightbox:i.useLightbox,win:D})},R.abrupt("return",P(s(s({},i),{},{captchaEnabled:C,globalOnFocus:T})));case 2:case"end":return R.stop()}},_)}));return function(i,u){return m.apply(this,arguments)}}()},288633:function(v,l,t){t.r(l),t.d(l,{bootstrapVisitorForms:()=>P,updateVisitorForms:()=>f});var c=t(116984),n=t(164160),r=t(349239),o=t(910895),E=t(20036),d=t(537312),a=t(643977),O=t(154210);const e=()=>Object.fromEntries(new URLSearchParams(window.location.search));let s;function P(){const m=document.querySelectorAll(".sqs-block-form");s=[],m.forEach(async _=>{if(_.className.includes("sqs-block-website-component")||_.className.includes("sqs-block-form-lightbox")||_.className.includes("donation-form"))return;const{id:i}=_,u=(0,r.S)(_);if(!u){console.error(`Missing form context for block: ${i}, ${JSON.stringify(_)}`);return}if(u.useLightbox)return;const D=(0,o.z)(u,window),{formId:h}=u,p=await(0,n.h)(u,E.Z),M=_.querySelector(".form-wrapper");if(!M){console.error(`Missing formWrapper for block: '${i}'`);return}const C=(0,a.S)(window);(0,d.if)(h);const T={...p,mediaPlatformBaseUrl:C,mediaPlatformLibraryId:h,queryParams:e(),uploadAuthorization:async()=>(0,a.t)(u,window),onSubmit:async g=>(await D(g),!0)};(0,O.S)(T,M),s.push(function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,O.S)({...T,...g},M)})})}function f(m){s.forEach(_=>{_(m)})}},399544:function(v,l,t){var c=t(714487),n=t(517197);(0,n.U)(c.ZP)},116984:function(v,l,t){var c=t(399544)},328690:function(v,l,t){t.d(l,{Z:()=>d});var c=t(174161),n=t(216581),r=t(714487),o=t(308607);const d=a=>{let{translationLocale:O,formattingLocale:e,children:s}=a;return c.createElement(n.Z.Provider,{value:{translationLocale:O,formattingLocale:e,cldrLoader:o.Z,...r.Td}},s)}},58553:function(v,l,t){t.d(l,{Z:()=>e});var c=t(174161),n=t(684353),r=t(691985),o=t(660609),E=t(328690),d=t(119325);function a(){return(r.D===null||r.D===void 0?void 0:r.D.website.language)||(0,d.A)()||o.Z.defaultLocale}function O(){return n.translationLocale}const e=s=>{let{children:P}=s;return c.createElement(E.Z,{translationLocale:O(),formattingLocale:a()},P)}},119325:function(v,l,t){t.d(l,{A:()=>o,q:()=>E});var c=t(660609),n=t(190133);const r=new n.LocaleResolver(c.Z.translationFiles);function o(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;var a,O,e;return d==null||(e=d.Static)===null||e===void 0||(O=e.SQUARESPACE_CONTEXT)===null||O===void 0||(a=O.website)===null||a===void 0?void 0:a.language}function E(){return r.resolveLocale(o()).languageRegion}},538117:function(v,l,t){t.d(l,{Jl:()=>E,Oj:()=>d,dU:()=>O,ge:()=>r,ni:()=>o,r8:()=>a});var c=t(787592),n=t(998124);const r=n.getDomain,o=n.isInternal,E=n.isStage,d=n.isQA,a=n.isDev,O=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;var s,P;const f=e==null||(P=e.Static)===null||P===void 0||(s=P.SQUARESPACE_CONTEXT)===null||s===void 0?void 0:s.env;return f||(0,c.$e)(m=>{m.setTag("critical-issue","true"),m.setTag("user_facing","true"),(0,c.Tb)(new Error("Environment is not defined"))}),f}},154210:function(v,l,t){t.d(l,{S:()=>a,n:()=>d});var c=t(116984),n=t(174161),r=t(233284),o=t(360174),E=t(58553);const d=O=>{let{onMount:e,children:s}=O;return(0,n.useEffect)(()=>{e==null||e()},[e]),n.createElement(n.StrictMode,null,n.createElement(E.Z,null,s))},a=(O,e,s)=>{(0,r.render)(n.createElement(d,{onMount:s},n.createElement(o.Z,O)),e)}},643977:function(v,l,t){t.d(l,{S:()=>a,t:()=>O});var c=t(399544),n=t(76149),r=t(528215),o=t(538117);const E="https://media.dev.squarespace.net",d="https://media-api.squarespace.com",a=e=>(0,o.Jl)(e)||(0,o.Oj)(e)||(0,o.r8)(e)?E:d,O=async(e,s)=>{let P;const f=a(s),m=e.formId;return e.captchaEnabled&&(P=await r.TJ(s,r.aI.FORM_BLOCK)),P==null?{status:400,errorMessage:"File Upload ReCAPTCHA token null or undefined",token:null}:await n.g.getShortLivedTokenFromRecaptchaValidationEndpoint(P,f,m)}},349239:function(v,l,t){t.d(l,{S:()=>c});const c=n=>{const r=n.querySelector("script.sqs-form-block-context"),o=n.querySelector("script.sqs-form-block-localized-strings"),E=n.querySelector(".sqs-form-block-submission-html"),d=(E==null?void 0:E.getAttribute("data-submission-html"))??void 0;try{if(o!=null&&o.textContent){const a=JSON.parse(o==null?void 0:o.textContent);return r!=null&&r.textContent?{formSubmissionHTML:d,...JSON.parse(r.textContent),localizedStrings:a}:null}return r!=null&&r.textContent?{formSubmissionHTML:d,...JSON.parse(r.textContent)}:null}catch{throw new Error("Error parsing the JSON form context")}}},910895:function(v,l,t){t.d(l,{z:()=>e});var c=t(456903),n=t(739233),r=t(537312),o=t(528215);const E="/api/form/FormSubmissionKey",d="/api/form/SaveFormSubmission",a={withCredentials:!0},O=async(s,P,f)=>{const{data:m}=await c.default.post(E),{key:_}=m;if(!_)throw new Error("Got invalid form submission key");const i=()=>o.TJ(f,o.aI.FORM_BLOCK),u=await(0,n.Q)({key:_,formData:P,formContext:s,getRecaptchaEnterpriseV3Token:i});return(0,r._5)(u),c.default.post(d,u,a)},e=(s,P)=>f=>O(s,f,P)},20036:function(v,l,t){t.d(l,{Z:()=>o});var c=t(528215),n=t(304212);const o=async function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;if(arguments.length>1?arguments[1]:void 0){const a=(0,n.Z)(E);return await c.DU(E,a),{enterpriseRendered:!0,showRecaptchaBadge:c.ZQ}}return{enterpriseRendered:!1}}}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/46e8689099a22a9b/async-visitor-forms-36cece981a8a66fb-min.en-US.js.map